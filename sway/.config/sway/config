# ================================
# THEME AND APPEARANCE
# ================================
include cosmic-purple

# Window decorations
font none 0.001
titlebar_padding 1
default_border pixel 3
gaps inner 5
gaps outer 5

# Client colors
client.focused           $lavender $base $text  $rosewater $lavender
client.focused_inactive  $overlay0 $base $text  $rosewater $overlay0
client.unfocused         $overlay0 $base $text  $rosewater $overlay0
client.urgent            $peach    $base $peach $overlay0  $peach
client.placeholder       $overlay0 $base $text  $overlay0  $overlay0
client.background        $base

# ================================
# VARIABLES
# ================================
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term wezterm
set $browser zen-browser
set $pwmanager bitwarden-desktop
set $menu wmenu-run -N "2b1f45" -n "d4c5ff" -M "3f2f5f" -m "e6d9ff" -S "7f6f9f" -s "bfafdf" -f "JetBrains Mono 16"

# ================================
# OUTPUT CONFIGURATION
# ================================
output * background $HOME/.config/backgrounds/purple.jpg fill
output * scale 1.8

# ================================
# INPUT CONFIGURATION
# ================================
input type:touchpad {
	left_handed enabled
		tap enabled
		natural_scroll disabled
		dwt enabled
		accel_profile "flat"
		pointer_accel 0.5
}

# ================================
# WINDOW RULES
# ================================
for_window [app_id="com.saivert.pwvucontrol"] floating enable, resize set 800 600, move position center
for_window [class="Bitwarden"] floating enable, resize set 1000 800, move position center

# ================================
# KEY BINDINGS
# ================================

# Basic actions
bindsym $mod+Return exec $term
bindsym $mod+b exec $browser
bindsym $mod+p exec $pwmanager
bindsym $mod+q kill
bindsym $mod+d exec $menu
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# Window management
floating_modifier $mod normal
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+f fullscreen
bindsym $mod+a focus parent

# Movement (vim keys)
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Movement (arrow keys)
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move to workspaces
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Layout management
bindsym $mod+Shift+b splith
bindsym $mod+Shift+v splitv
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Resize mode
mode "resize" {
	bindsym $left resize shrink width 10px
		bindsym $down resize grow height 10px
		bindsym $up resize shrink height 10px
		bindsym $right resize grow width 10px

		bindsym Left resize shrink width 10px
		bindsym Down resize grow height 10px
		bindsym Up resize shrink height 10px
		bindsym Right resize grow width 10px

		bindsym Return mode "default"
		bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# ================================
# MEDIA AND SYSTEM KEYS
# ================================
# Volume controls with swayosd
bindsym --locked XF86AudioMute exec swayosd-client --output-volume mute-toggle
bindsym --locked XF86AudioLowerVolume exec swayosd-client --output-volume lower
bindsym --locked XF86AudioRaiseVolume exec swayosd-client --output-volume raise
bindsym --locked XF86AudioMicMute exec swayosd-client --input-volume mute-toggle

# Brightness controls with swayosd
bindsym --locked XF86MonBrightnessDown exec swayosd-client --brightness -2
bindsym --locked XF86MonBrightnessUp exec swayosd-client --brightness +2

bindsym Print exec grimshot copy output --notify
# Capture the currently active window to clipboard
bindsym Alt+Print exec grimshot copy active --notify
# Select and capture a custom rectangular area to clipboard
bindsym Ctrl+Print exec grimshot copy area --notify

# ================================
# STARTUP APPLICATIONS
# ================================
exec nm-applet
exec swayosd-server
exec waybar

# ================================
# INCLUDES
# ================================
include /etc/sway/config.d/*
